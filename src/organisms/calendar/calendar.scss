@import "../../styles/mixins";

.cb-calendar {
	@include transition(all);

	@include font;
	@include disableable;

	@include p($spacing-4);

	position: relative;
	display: inline-flex;
	flex-direction: column;

	& > .header {
		@include p(spacing-0);

		display: grid;
		grid-template-rows: 40px;
		grid-template-columns: 40px 40px 1fr 40px 40px;
		align-items: center;

		column-gap: $spacing-2;

		& > .previous-year,
		& > .previous-month,
		& > .next-year,
		& > .next-month {
			@include rounded(50%);
			@include m($spacing-0);

			background: rgba($color-gray-100, 1);
			border-color: transparent;
			font-size: $font-size-2xl;

			@include hoverable {
				background: rgba($color-gray-300, 1);
				color: rgba($color-primary-500, 1);
			}

			> .cb-icon {
				justify-self: center;
			}
		}

		& > .date-display {
			display: grid;
			grid-template-rows: 28px 12px;
			grid-template-columns: 1fr;
			align-items: center;

			& > .year,
			& > .month {
				text-align: center;
			}

			& > .year {
				font-size: $font-size-2xl;
			}

			& > .month {
				font-size: $font-size-xs;
			}
		}
	}

	.days {
		display: grid;
		grid-template-columns: repeat(7, 40px);

		@include px($spacing-0);
		@include pt($spacing-4);
		@include pb($spacing-0);

		& > .day {
			@include rounded(0);
			font-size: $font-size-xs;

			position: relative;
			display: inline-flex;
			align-items: center;
			justify-content: center;

			&.is-today {
				color: rgba($color-blue-300, 1);
			}

			&.is-selected {
				background: rgba($color-gray-200, 1);

				@include hoverable {
					background: rgba($color-gray-300, 1);
					border-color: rgba($color-gray-300, 1);
				}
			}
		}

		// .day.is-selected:after,
		// .day.is-selected + .day.is-selected:before,
		// .day.is-selected + .day:not(.is-selected):before {
		//   position: absolute;
		//   content: '';
		//   display: block;
		//   top: -1px;
		//   bottom: -1px;
		//   width: calc(40px + 0.25rem);

		//   z-index: -1;
		// }

		// .day.is-selected:after {
		//   @include bordered(rgba($color: color(gray-200)), 1);
		//   background: rgba($color-gray-200, 1);
		//   left: 20px;
		// }

		// .day.is-selected + .day.is-selected:before {
		//   @include bordered(rgba($color: color(gray-200)), 1);
		//   background: rgba($color-gray-200, 1);
		//   left: calc(-20px - 0.25rem);
		// }

		// .day.is-selected + .day:not(.is-selected):before {
		//   @include bordered(rgba($color: color(white)), 1);
		//   background: rgba($color-white, 1);
		//   left: calc(-20px - 0.25rem);
		// }

		& > .week-day {
			font-weight: $font-weight-bold;

			text-decoration: none;
		}
	}

	.quick-actions {
		margin-top: $spacing-4;
	}
}
